jQuery(document).ready(function(e){console.log("A starter template created by Eleven Fifty Academy under MIT Licensing."),(new WOW).init(),e(".with-caption").magnificPopup({type:"image",closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0,titleSrc:function(e){return e.el.attr("title")}},gallery:{enabled:!0}})});var canvas=document.getElementById("nokey"),can_w=parseInt(canvas.getAttribute("width")),can_h=parseInt(canvas.getAttribute("height")),ctx=canvas.getContext("2d"),ball={x:0,y:0,vx:0,vy:0,r:0,alpha:1,phase:0},ball_color={r:0,g:255,b:255},R=2,balls=[],alpha_f=.03,alpha_phase=0,link_line_width=1,dis_limit=260,add_mouse_point=!0,mouse_in=!1,mouse_ball={x:0,y:0,vx:0,vy:0,r:0,type:"mouse"};function getRandomSpeed(e){var a=-1;switch(e){case"top":return[randomNumFrom(a,2),randomNumFrom(.1,2)];case"right":return[randomNumFrom(a,-.1),randomNumFrom(a,2)];case"bottom":return[randomNumFrom(a,2),randomNumFrom(a,-.1)];case"left":return[randomNumFrom(.1,2),randomNumFrom(a,2)];default:return}}function randomArrayItem(e){return e[Math.floor(Math.random()*e.length)]}function randomNumFrom(e,a){return Math.random()*(a-e)+e}function getRandomBall(){switch(randomArrayItem(["top","right","bottom","left"])){case"top":return{x:randomSidePos(can_w),y:-R,vx:getRandomSpeed("top")[0],vy:getRandomSpeed("top")[1],r:R,alpha:1,phase:randomNumFrom(0,10)};case"right":return{x:can_w+R,y:randomSidePos(can_h),vx:getRandomSpeed("right")[0],vy:getRandomSpeed("right")[1],r:R,alpha:1,phase:randomNumFrom(0,10)};case"bottom":return{x:randomSidePos(can_w),y:can_h+R,vx:getRandomSpeed("bottom")[0],vy:getRandomSpeed("bottom")[1],r:R,alpha:1,phase:randomNumFrom(0,10)};case"left":return{x:-R,y:randomSidePos(can_h),vx:getRandomSpeed("left")[0],vy:getRandomSpeed("left")[1],r:R,alpha:1,phase:randomNumFrom(0,10)}}}function randomSidePos(e){return Math.ceil(Math.random()*e)}function renderBalls(){Array.prototype.forEach.call(balls,function(e){e.hasOwnProperty("type")||(ctx.fillStyle="rgba("+ball_color.r+","+ball_color.g+","+ball_color.b+","+e.alpha+")",ctx.beginPath(),ctx.arc(e.x,e.y,R,0,2*Math.PI,!0),ctx.closePath(),ctx.fill())})}function updateBalls(){var e=[];Array.prototype.forEach.call(balls,function(a){a.x+=a.vx,a.y+=a.vy,a.x>-50&&a.x<can_w+50&&a.y>-50&&a.y<can_h+50&&e.push(a),a.phase+=alpha_f,a.alpha=Math.abs(Math.cos(a.phase))}),balls=e.slice(0)}function loopAlphaInf(){}function renderLines(){for(var e,a,t=0;t<balls.length;t++)for(var n=t+1;n<balls.length;n++)(e=getDisOf(balls[t],balls[n])/dis_limit)<1&&(a=(1-e).toString(),ctx.strokeStyle="rgba(72,72,72,"+a+")",ctx.lineWidth=link_line_width,ctx.beginPath(),ctx.moveTo(balls[t].x,balls[t].y),ctx.lineTo(balls[n].x,balls[n].y),ctx.stroke(),ctx.closePath())}function getDisOf(e,a){var t=Math.abs(e.x-a.x),n=Math.abs(e.y-a.y);return Math.sqrt(t*t+n*n)}function addBallIfy(){balls.length<40&&balls.push(getRandomBall())}function render(){ctx.clearRect(0,0,can_w,can_h),renderBalls(),renderLines(),updateBalls(),addBallIfy(),window.requestAnimationFrame(render)}function initBalls(e){for(var a=1;a<=e;a++)balls.push({x:randomSidePos(can_w),y:randomSidePos(can_h),vx:getRandomSpeed("top")[0],vy:getRandomSpeed("top")[1],r:R,alpha:1,phase:randomNumFrom(0,10)})}function initCanvas(){canvas.setAttribute("width",window.innerWidth),canvas.setAttribute("height",window.innerHeight),can_w=parseInt(canvas.getAttribute("width")),can_h=parseInt(canvas.getAttribute("height"))}function goMovie(){initCanvas(),initBalls(30),window.requestAnimationFrame(render)}console.log(randomNumFrom(0,10)),window.addEventListener("resize",function(e){console.log("Window Resize..."),initCanvas()}),goMovie(),canvas.addEventListener("mouseenter",function(){console.log("mouseenter"),mouse_in=!0,balls.push(mouse_ball)}),canvas.addEventListener("mouseleave",function(){console.log("mouseleave"),mouse_in=!1;var e=[];Array.prototype.forEach.call(balls,function(a){a.hasOwnProperty("type")||e.push(a)}),balls=e.slice(0)}),canvas.addEventListener("mousemove",function(e){e=e||window.event;mouse_ball.x=e.pageX,mouse_ball.y=e.pageY});